<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ö–∞—Ñ–µ "–ö–µ—Ä–±–µ–∑"</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #1c1c1c;
      padding: 20px;
      color: #fff;
      margin: 0;
    }
    h1, h2 {
      color: #ff3c3c;
      text-align: center;
    }
    .menu-item {
      background-color: #2b2b2b;
      padding: 15px;
      margin-bottom: 10px;
      border-radius: 10px;
      box-shadow: 0 2px 6px rgba(255, 60, 60, 0.4);
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
    }
    button {
      padding: 6px 14px;
      margin-top: 8px;
      border: none;
      background-color: #ff3c3c;
      color: white;
      border-radius: 4px;
      cursor: pointer;
      font-weight: bold;
    }
    button:hover {
      background-color: #cc2e2e;
    }
    #cart, #delivery-section {
      margin-top: 30px;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }
    ul {
      padding-left: 20px;
    }
    #delivery-section {
      background-color: #2b2b2b;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 2px 6px rgba(255, 60, 60, 0.3);
    }
    input[type="text"], input[type="tel"] {
      padding: 10px;
      border-radius: 6px;
      border: none;
      width: 100%;
      margin-top: 10px;
      margin-bottom: 10px;
    }
    #menu {
      max-width: 600px;
      margin: auto;
    }
  </style>
</head>
<body>

  <h1>–ö–∞—Ñ–µ "–ö–µ—Ä–±–µ–∑"</h1>
  <div id="menu"></div>

  <h2>üõí –ö–æ—Ä–∑–∏–Ω–∞</h2>
  <ul id="cart"></ul>
  <p style="text-align:center;"><strong>–ò—Ç–æ–≥–æ: <span id="total">0</span> —Å–æ–º</strong></p>

  <div id="delivery-section">
    <h2>üöö –î–æ—Å—Ç–∞–≤–∫–∞</h2>
    <p>–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –∞–¥—Ä–µ—Å –∏ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –¥–ª—è –¥–æ—Å—Ç–∞–≤–∫–∏:</p>
    <input type="text" id="address" placeholder="–≥. –û—à, —É–ª. –ü—Ä–∏–º–µ—Ä 123">
    <input type="tel" id="phone" placeholder="–í–∞—à –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞">
    <button onclick="submitOrder()">–ó–∞–∫–∞–∑–∞—Ç—å</button>
    <p id="order-confirmation" style="margin-top: 10px; color: #a3ffa3;"></p>
  </div>

  <script>
    const menuItems = [
      { name: "–°–æ—Å–∏—Å–∫–∞ –≤ —Ç–µ—Å—Ç–µ", price: 50 },
      { name: "–ú–æ—Ä–æ–∂–µ–Ω–æ–µ", price: 40 },
      { name: "–ö–æ—Ñ–µ –õ–∞—Ç—Ç–µ", price: 60 },
      { name: "–®–æ–∫–æ–ª–∞–¥", price: 35 },
      { name: "–ü–ü –¢–æ—Ä—Ç", price: 80 },
      { name: "–û–±—ã—á–Ω—ã–π —Ç–æ—Ä—Ç", price: 70 },
      { name: "–ú–∞—Ñ—Ñ–∏–Ω —Å –∫–ª—É–±–Ω–∏–∫–æ–π", price: 45 },
      { name: "–≠–∫–ª–µ—Ä —Å –∫—Ä–µ–º–æ–º", price: 55 },
      { name: "–®–æ–∫–æ–ª–∞–¥–Ω—ã–π –∫–∞–ø–∫–µ–π–∫", price: 50 },
      { name: "–ú–µ–¥–æ–≤–∏–∫", price: 65 },
      { name: "–ü–∏—Ä–æ–∂–Ω–æ–µ \"–ö–∞—Ä—Ç–æ—à–∫–∞\"", price: 30 },
      { name: "–í–∞—Ñ–ª–∏ —Å –∫–∞—Ä–∞–º–µ–ª—å—é", price: 40 }
    ];

    const cart = [];
    const menuDiv = document.getElementById("menu");
    const cartList = document.getElementById("cart");
    const totalSpan = document.getElementById("total");
    const confirmation = document.getElementById("order-confirmation");

    menuItems.forEach(item => {
      const div = document.createElement("div");
      div.className = "menu-item";
      div.innerHTML = `<span>${item.name} ‚Äì ${item.price} —Å–æ–º</span><button>–ö—É–ø–∏—Ç—å</button>`;
      div.querySelector("button").addEventListener("click", () => addToCart(item));
      menuDiv.appendChild(div);
    });

    function addToCart(item) {
      cart.push(item);
      updateCart();
    }

    function updateCart() {
      cartList.innerHTML = "";
      let total = 0;
      cart.forEach(item => {
        const li = document.createElement("li");
        li.textContent = `${item.name} ‚Äì ${item.price} —Å–æ–º`;
        cartList.appendChild(li);
        total += item.price;
      });
      totalSpan.textContent = total;
    }

    function submitOrder() {
      const address = document.getElementById("address").value;
      const phone = document.getElementById("phone").value;
      const phonePattern = /^\+996\d{9}$/;

      if (address.trim() === "" || phone.trim() === "") {
        confirmation.style.color = "#ffb3b3";
        confirmation.textContent = "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∞–¥—Ä–µ—Å –∏ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞.";
        return;
      }
      if (!phonePattern.test(phone)) {
        confirmation.style.color = "#ffb3b3";
        confirmation.textContent = "–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –¥–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å +996 –∏ —Å–æ–¥–µ—Ä–∂–∞—Ç—å 13 —Å–∏–º–≤–æ–ª–æ–≤.";
        return;
      }
      if (cart.length === 0) {
        confirmation.style.color = "#ffb3b3";
        confirmation.textContent = "–í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞.";
        return;
      }

      const message = `üõç –ù–æ–≤—ã–π –∑–∞–∫–∞–∑:\n\nüì¶ –¢–æ–≤–∞—Ä—ã:\n${cart.map(i => `‚Ä¢ ${i.name} ‚Äì ${i.price} —Å–æ–º`).join("\n")}\n\nüí∞ –ò—Ç–æ–≥–æ: ${totalSpan.textContent} —Å–æ–º\nüìç –ê–¥—Ä–µ—Å: ${address}\nüìû –¢–µ–ª–µ—Ñ–æ–Ω: ${phone}`;

      const chatId = "7815798366";
      const token = "7608867848:AAG2MNXHu1L4cD7WTp22b3N-168-VIKAj1Q";
      const url = `https://api.telegram.org/bot${token}/sendMessage`;

      fetch(url, {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify({
          chat_id: chatId,
          text: message
        })
      });

      confirmation.style.color = "#a3ffa3";
      confirmation.textContent = `–í–∞—à –∑–∞–∫–∞–∑ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω! –ú—ã —Å–∫–æ—Ä–æ —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏.`;
      cart.length = 0;
      updateCart();
    }
  </script>

</body>
</html>
